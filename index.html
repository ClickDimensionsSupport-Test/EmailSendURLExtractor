<!DOCTYPE html>
<html>
<head>
<script>
function extractinate() {
    
	var EmailSendURL = document.getElementById("EmailURL").value;
    
	var urlQuerySplit = EmailSendURL.split("?");
    	var queryString = urlQuerySplit[1];
	var stringPairs = queryString.split("&");
	
	var accountKeyPair = stringPairs[0];
	var accountKey = accountKeyPair.split("=");
	document.getElementById("accountKeyDisplay").innerHTML = accountKey[1];
	
	var orgnamePair = stringPairs[1];
	var orgname = orgnamePair.split("=");
	document.getElementById("orgnameDisplay").innerHTML = orgname[1];
	
	var idPair = stringPairs[3];
	var emailSendId = idPair.split("=");
	document.getElementById("idDisplay").innerHTML = emailSendId[1];
}

function displayRegion() {

var EmailSendURL = document.getElementById("EmailURL").value;
var US = EmailSendURL.includes("app.clickdimensions");
var EU = EmailSendURL.includes("app-eu.clickdimensions");
var AU = EmailSendURL.includes("app-au.clickdimensions");

if (US) { 
	document.getElementById("regionDisplay").innerHTML = "US";
	} else if (EU) {
	document.getElementById("regionDisplay").innerHTML = "EU";
	} else if (AU) {
	document.getElementById("regionDisplay").innerHTML = "AU";
	} else {
	document.getElementById("regionDisplay").innerHTML = "BROKEN!";
	}
}


</script>

</head>
<body>


Email Send URL: <input size="100%" id="EmailURL" type="text"> <br>

<p>Click the button to display the array values after the split.</p>

<button onclick="extractinate(); displayRegion();">Extract</button>
<br><hr><br>

Region: <span id="regionDisplay"></span>
<br><br>
accountKey: <span id="accountKeyDisplay"></span>
<br><br>
orgname: <span id="orgnameDisplay"></span>
<br><br>
Email Send ID: <span id="idDisplay"></span> 

<br> 

</body>
</html>
